<!DOCTYPE html><html class="theme-next mist use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"50185433"}),daovoice("update")</script><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script><link href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Cookie:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/alex.d-blog/css/main.css?v=6.4.2" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/alex.d-blog/images/logo-180x180.jpg?v=6.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/alex.d-blog/images/favicon-32x32.ico?v=6.4.2"><link rel="icon" type="image/png" sizes="16x16" href="/alex.d-blog/images/favicon-16x16.ico?v=6.4.2"><link rel="mask-icon" href="/alex.d-blog/images/logo.svg?v=6.4.2" color="#222"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/alex.d-blog/",scheme:"Mist",version:"6.4.2",sidebar:{position:"left",width:320,display:"hide",offset:12,b2t:!1,scrollpercent:!0,onmobile:!0},fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!0,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="在安装MongoDB 3.2.0版本时，翻看官网安装说明，参照成功安装。为方便日后安装参考，记录此文。文章自己简单翻译，有出入望指教。"><meta name="keywords" content="Windows,MongoDB"><meta property="og:type" content="article"><meta property="og:title" content="Windows下安装MongoDB 3.2"><meta property="og:url" content="http://yoursite.com/posts/9a06f51f/index.html"><meta property="og:site_name" content="Alex.D&#39;s Bolg"><meta property="og:description" content="在安装MongoDB 3.2.0版本时，翻看官网安装说明，参照成功安装。为方便日后安装参考，记录此文。文章自己简单翻译，有出入望指教。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://img.blog.csdn.net/20160321105603123"><meta property="og:image" content="http://img.blog.csdn.net/20160321160357683"><meta property="og:image" content="http://img.blog.csdn.net/20160321112539059"><meta property="og:image" content="http://img.blog.csdn.net/20160321112620807"><meta property="og:image" content="http://img.blog.csdn.net/20160321113719603"><meta property="og:image" content="http://img.blog.csdn.net/20160321165520814"><meta property="og:image" content="http://img.blog.csdn.net/20160321211411290"><meta property="og:image" content="http://img.blog.csdn.net/20160321204852913"><meta property="og:image" content="http://img.blog.csdn.net/20160321211537261"><meta property="og:image" content="http://img.blog.csdn.net/20160321223352064"><meta property="og:image" content="http://img.blog.csdn.net/20160321223524456"><meta property="og:image" content="http://img.blog.csdn.net/20160321223830367"><meta property="og:image" content="http://img.blog.csdn.net/20160321224026948"><meta property="og:updated_time" content="2016-03-21T15:02:57.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Windows下安装MongoDB 3.2"><meta name="twitter:description" content="在安装MongoDB 3.2.0版本时，翻看官网安装说明，参照成功安装。为方便日后安装参考，记录此文。文章自己简单翻译，有出入望指教。"><meta name="twitter:image" content="http://img.blog.csdn.net/20160321105603123"><link rel="alternate" href="/alex.d-blog/rss.xml" title="Alex.D's Bolg" type="application/atom+xml"><link rel="canonical" href="http://yoursite.com/posts/9a06f51f/"><script type="text/javascript" id="page.configurations">CONFIG.page={sidebar:""}</script><title>Windows下安装MongoDB 3.2 | Alex.D's Bolg</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3a07652f23a7df84dd82ef48b0a358e1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style type="text/css">.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.logo-line-after i{right:initial}</style></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/alex.d-blog/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Alex.D's Bolg</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">Don't trouble trouble until trouble troubles you.</h1></div><div class="site-nav-toggle"> <button aria-label="切换导航栏"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/alex.d-blog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/alex.d-blog/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签<span class="badge">46</span></a></li><li class="menu-item menu-item-categories"><a href="/alex.d-blog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类<span class="badge">19</span></a></li><li class="menu-item menu-item-archives"><a href="/alex.d-blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档<span class="badge">30</span></a></li><li class="menu-item menu-item-about"><a href="/alex.d-blog/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-commonweal"><a href="/alex.d-blog/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益 404</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header> <a href="https://github.com/anyer" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#222;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/alex.d-blog/posts/9a06f51f/"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="Alex.D"><meta itemprop="description" content="Alex.D 个人博客，记录和分享工作经验、学习心得等"><meta itemprop="image" content="/alex.d-blog/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Alex.D's Bolg"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Windows下安装MongoDB 3.2</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-03-21 23:02:57" itemprop="dateCreated datePublished" datetime="2016-03-21T23:02:57+08:00">2016-03-21</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/alex.d-blog/categories/安装部署/" itemprop="url" rel="index"><span itemprop="name">安装部署</span></a></span></span> <span id="/alex.d-blog/posts/9a06f51f/" class="leancloud_visitors" data-flag-title="Windows下安装MongoDB 3.2"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span title="本文字数">4.1k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">4 分钟</span></div><div class="post-description">在安装MongoDB 3.2.0版本时，翻看官网安装说明，参照成功安装。为方便日后安装参考，记录此文。文章自己简单翻译，有出入望指教。</div></div></header><div class="post-body" itemprop="articleBody"><h3 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a><strong>MongoDB</strong></h3><p>在安装MongoDB 3.2.0版本时，翻看官网安装说明，参照成功安装。为方便日后安装参考，记录此文。文章自己简单翻译，有出入望指教。</p><hr><h3 id="MongoDB-安装"><a href="#MongoDB-安装" class="headerlink" title="MongoDB 安装"></a><strong>MongoDB 安装</strong></h3><h4 id="确定MongoDB版本"><a href="#确定MongoDB版本" class="headerlink" title="确定MongoDB版本"></a><strong>确定MongoDB版本</strong></h4><p>官网提供了三个版本下载：</p><ul><li><code>MongoDB for Windows 64-bit</code> 适合 64 位的 Windows Server 2008 R2, Windows 7 , 及最新版本的 Window 系统。</li><li><code>MongoDB for Windows 32-bit</code> 适合 32 位的 Window 系统及最新的 Windows Vista。 32 位系统上 MongoDB 的数据库最大为 2GB。</li><li><code>MongoDB for Windows 64-bit Legacy</code> 适合 64 位的 Windows Vista, Windows Server 2003, 及 Windows Server 2008 。<br>MongoDB官网下载地址：<a href="https://www.mongodb.org/downloads#production" target="_blank" rel="noopener">MongoDB downloads pages</a><br>, 此时官网最新版本为3.2.4 。<br><img src="http://img.blog.csdn.net/20160321105603123" alt="MongoDB Download Pages "></li></ul><p>根据系统下载对应版本，64版本的MongoDB不支持Windows 32位系统。不知道本机的位数，可以通过以下代码查看：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wmic os get caption   #查看系统的版本  win xp/win 7...</span><br><span class="line">wmic os get osarchitecture  #查看系统架构（位数）  x86/x64</span><br></pre></td></tr></table></figure><p></p><p><img src="http://img.blog.csdn.net/20160321160357683" alt="os"><br>通过查询可以知道，本机是64位系统，所以使用64的<code>mongodb-win32-x86_64-2008plus-ssl-3.2.0-signed.msi</code> 。</p><h4 id="安装MongoDB"><a href="#安装MongoDB" class="headerlink" title="安装MongoDB"></a><strong>安装MongoDB</strong></h4><p><img src="http://img.blog.csdn.net/20160321112539059" alt="install"></p><p><img src="http://img.blog.csdn.net/20160321112620807" alt="install_Choose &#39;Custom&#39;"></p><p>选择自定义安装模式，选择安装目录 <code>d:\MongoDB</code><br><img src="http://img.blog.csdn.net/20160321113719603" alt="install_Choose location path"></p><p>注：MongoDB是独立的，没有任何其他系统的依赖。你可以在任何你选择的文件夹运行MongoDB。所以你可以在任意文件夹中安装MongoDB（如<code>D:\test\ MongoDB</code>）。 注意避免中文目录。</p><hr><h3 id="MongoDB-无人值守安装"><a href="#MongoDB-无人值守安装" class="headerlink" title="MongoDB 无人值守安装"></a><strong>MongoDB 无人值守安装</strong></h3><p>文档中介绍了Unattended Installation的安装方式，想要采用此方式安装，可以参看。<br>要使用无人值守安装，需要用到 <code>msiexec.exe</code> 。</p><h4 id="打开管理员命令提示"><a href="#打开管理员命令提示" class="headerlink" title="打开管理员命令提示"></a><strong>打开管理员命令提示</strong></h4><p>需要通过管理员模式的命令提示符，来执行安装命令。<br>管理员命令提示打开方式：</p><ul><li><p>快捷键<code>win+r</code>打开“运行”窗口，输入<code>cmd</code><br><img src="http://img.blog.csdn.net/20160321165520814" alt="run"></p></li><li><p>快捷键 <code>Ctrl + Shift + Enter</code> ，则可以打开 ”管理员命令提示“。（win xp/win 7下）</p></li></ul><h4 id="Windows安装MongoDB"><a href="#Windows安装MongoDB" class="headerlink" title="Windows安装MongoDB"></a><strong>Windows安装MongoDB</strong></h4><p>选择修改<code>.msi</code>安装文件的安装路径并执行，语句如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msiexec.exe /q /i mongodb-win32-x86_64-2008plus-ssl-3.2.0-signed.msi ^</span><br><span class="line">            INSTALLLOCATION=&quot;C:\mongodb&quot; ^</span><br><span class="line">            ADDLOCAL=&quot;all&quot;</span><br></pre></td></tr></table></figure><p>通过<code>INSTALLLOCATION</code>值可以指定安装路径。默认使用这种方式安装，可以通过<code>AddLOCAL</code>来安装MongoDB组件集，这里设置<code>all</code> 表示全部安装，也可以选择安装组件集，各组件之间使用逗号隔开。组件集如下：<br>|Component Set| Binaries|<br>|:—|:—|<br>|Server |mongod.exe|<br>|Router |mongos.exe|<br>|Client |mongo.exe|<br>|MonitoringTools |mongostat.exe, mongotop.exe|<br>|ImportExportTools |mongodump.exe, mongorestore.exe, mongoexport.exe, mongoimport.exe|<br>|MiscellaneousTools |bsondump.exe, mongofiles.exe, mongooplog.exe, mongoperf.exe|<br>例如只安装MongoDB的工具和调用组件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msiexec.exe /q /i mongodb-win32-x86_64-2008plus-ssl-3.2.0-signed.msi ^</span><br><span class="line">            INSTALLLOCATION=&quot;C:\mongodb&quot; ^</span><br><span class="line">ADDLOCAL=&quot;MonitoringTools,ImportExportTools,MiscellaneousTools&quot;</span><br></pre></td></tr></table></figure><p></p><hr><h3 id="MongoDB-运行"><a href="#MongoDB-运行" class="headerlink" title="MongoDB 运行"></a><strong>MongoDB 运行</strong></h3><h4 id="设置MongoDB运行环境"><a href="#设置MongoDB运行环境" class="headerlink" title="设置MongoDB运行环境"></a><strong>设置MongoDB运行环境</strong></h4><p>MongoDB需要数据目录来存储所有的数据，其默认的数据目录为<code>\data\db</code> ，可以通过<code>mongod.exe --dbpath</code>命令来指定MongoDB的数据目录。例如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir D:\MongoDB\data\db;</span><br><span class="line">D:\MongoDB\bin\mongod.exe --dbpath D:\MongoDB\data\db</span><br></pre></td></tr></table></figure><p></p><p>如果路径里面包含空格，就用双引号括住整个路径，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\MongoDB\bin\mongod.exe --dbpath &quot;D:\MongoDB db data&quot;</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20160321211411290" alt="set dbpath"><br>看到上面的提示底部出现<code>waiting for connections</code> 字样，则表示dbpath配置完成，且MongoDB启动成功。<br>而且此时打开资源管理器，进入MongoDB的dbpath目录，内容如下：<br><img src="http://img.blog.csdn.net/20160321204852913" alt="show dbpath"><br>可以发现本地确实初始化数据库了。<br>创建成功时，MongoDB会根据系统安全级别，弹出mongod.exe网络通信的安全警告，选择允许，且需要选择网络时，应该选择私有网络，如家庭和工作网络。更多MongoDB的信息安全，请参见 <a href="https://docs.mongodb.org/manual/security/" target="_blank" rel="noopener">Security Documentation</a>。</p><h4 id="运行MongoDB"><a href="#运行MongoDB" class="headerlink" title="运行MongoDB"></a><strong>运行MongoDB</strong></h4><p>通过运行mongo.exe启动MongoDB。例如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\MongoDB\bin\mongo.exe</span><br></pre></td></tr></table></figure><p></p><p>命令行窗口显示如下内容：<br><img src="http://img.blog.csdn.net/20160321211537261" alt="mongo"><br>窗口中可以看到当前MongoDB shell的版本，及此时连接的数据库。</p><p>注：如果想要使用.net开发应用程序，更多信息可以参看文档 <a href="https://docs.mongodb.org/ecosystem/drivers/csharp" target="_blank" rel="noopener">C# and MongoDB</a></p><h4 id="开始使用MongoDB"><a href="#开始使用MongoDB" class="headerlink" title="开始使用MongoDB"></a><strong>开始使用MongoDB</strong></h4><p>为了帮助您开始使用MongoDB，MongoDB提供了各种驱动版本的入门指南 <a href="https://docs.mongodb.org/manual/#getting-started" target="_blank" rel="noopener">Getting Started Guides</a>。</p><p>在MongoDB Shell中，通过<code>help</code> 来查看命令说明：<br><img src="http://img.blog.csdn.net/20160321223352064" alt="MongoDB Shell help"></p><p>在生产环境中部署MongoDB之前，考虑生产记<a href="https://docs.mongodb.org/manual/administration/production-notes/" target="_blank" rel="noopener">Production Notes</a>录文件。</p><p>最后想停止MongoDB，可以在mongod.exe的命令行窗口，使用快捷键Ctrl+c即可。<br><img src="http://img.blog.csdn.net/20160321223524456" alt="MongoDB Stop"><br>出现如框中的路径时，表示MongoDB已停止。</p><hr><h3 id="配置MongoDB的Windows服务"><a href="#配置MongoDB的Windows服务" class="headerlink" title="配置MongoDB的Windows服务"></a><strong>配置MongoDB的Windows服务</strong></h3><p>在上面的配置中，虽然启动了服务，且可以进行数据库操作，但是开两个窗口很不方便，所以可以通过配置文件，来配置windows服务。</p><h4 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a><strong>创建目录</strong></h4><p>为您的数据库和日志文件创建目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir D:\MongoDB\data\db</span><br><span class="line">mkdir D:\MongoDB\data\log</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20160321223830367" alt="mkdir db/log "></p><h4 id="创建cfg配置文件"><a href="#创建cfg配置文件" class="headerlink" title="创建cfg配置文件"></a><strong>创建cfg配置文件</strong></h4><p>创建一个配置文件，文件内必须设置MongoDB日志路径 systemLog.path。包扩一些其他的附加配置选项。<br>例如，在在<code>D:\MongoDB\</code> 下创建mongod.cfg，并在文件内指定systemlog.path和storage.dbpath：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemLog:</span><br><span class="line">    destination: file</span><br><span class="line">    path: D:\MongoDB\data\log\mongod.log</span><br><span class="line">storage:</span><br><span class="line">    dbPath: D:\MongoDB\data\db</span><br></pre></td></tr></table></figure><h4 id="安装MongoDB服务"><a href="#安装MongoDB服务" class="headerlink" title="安装MongoDB服务"></a><strong>安装MongoDB服务</strong></h4><p>注意：<br>运行所有的命令都应该在管理员命令行窗口内。（管理员权限运行cmd）<br>通过运行mongod.exe的–install安装选项和–config和配置选项，指定先前创建的配置文件安装MongoDB服务。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;D:\MongoDB\bin\mongod.exe&quot; --config &quot;D:\MongoDB\mongod.cfg&quot; --install</span><br></pre></td></tr></table></figure><p>设置独立的数据库地址dbpath，可以通过配置文件或者命令–dbpath来设置。</p><p>如果需要，你可以安装多个实例的mongod.exe或mongos.exe服务。安装的每个服务设置唯一的 –serviceName 和–serviceDisplayName。仅当有足够的系统资源和系统设计要求时，设置多个实例。</p><p>如要让服务自动启动，可以通过下面命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc.exe create MongoDB binPath= &quot;D:\MongoDB\bin\mongod.exe --service --config=\&quot;C:\MongoDB\mongod.cfg\&quot;&quot; DisplayName= &quot;MongoDB&quot; start= &quot;auto&quot;</span><br></pre></td></tr></table></figure><p>sc.exe中在“=”和配置值（如“binpath =”）之间需要一个空格，且用一个“\”转义双引号，以逃避双重引号。</p><p>如果成功创建，下面的日志信息将显示：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[SC] CreateService SUCCESS</span><br></pre></td></tr></table></figure><p></p><h4 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a><strong>开启服务</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start MongoDB</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20160321224026948" alt="start MongoDB service"></p><h4 id="关闭和删除服务"><a href="#关闭和删除服务" class="headerlink" title="关闭和删除服务"></a><strong>关闭和删除服务</strong></h4><p>停止MongoDB服务使用以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop MongoDB</span><br></pre></td></tr></table></figure><p></p><p>删除MongoDB服务使用以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;D:\MongoDB\bin\mongod.exe&quot; --remove</span><br></pre></td></tr></table></figure><hr><h3 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a><strong>参考内容</strong></h3><p><a href="https://docs.mongodb.org/manual/tutorial/install-mongodb-on-windows/" target="_blank" rel="noopener">官网3.2版本文档：安装说明</a><br>关于无人值守安装，可以看看Microsoft的<a href="https://technet.microsoft.com/zh-cn/library/cc785644%28v=ws.10%29.aspx" target="_blank" rel="noopener">What Is Unattended Installation?</a><br>百度百科介绍，点这里：<a href="http://baike.baidu.com/link?url=61J8JJWNp7ba1jBUhnp79ZkdoVFSJsyVJkgwfENozbn8zoT-WPlOPD_EL8EtYE0A65piO9TpChwA4ZvKGSgViq" target="_blank" rel="noopener">无人值守安装</a></p></div><div><div><div style="text-align:center;color:#ccc;font-size:16px">------ 全文结束<i class="fa fa-thumbs-up"></i> 感谢您的阅读!!! ------</div></div></div><div><div id="wechat_subscriber" style="display:block;padding:10px 0;margin:20px auto;width:100%;text-align:center"> <img id="wechat_subscriber_qcode" src="/alex.d-blog/images/weixingongzhonghao.png" alt="Alex.D wechat" style="width:200px;max-width:100%"><div></div></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div> <button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'> <span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="/alex.d-blog/images/wechatpay.jpg" alt="Alex.D 微信支付"><p>微信支付</p></div><div id="alipay" style="display:inline-block"> <img id="alipay_qr" src="/alex.d-blog/images/alipay.jpg" alt="Alex.D 支付宝"><p>支付宝</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> Alex.D</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="http://yoursite.com/posts/9a06f51f/" title="Windows下安装MongoDB 3.2">http://yoursite.com/posts/9a06f51f/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/alex.d-blog/tags/Windows/" rel="tag"><i class="fa fa-tag"></i> Windows</a><a href="/alex.d-blog/tags/MongoDB/" rel="tag"><i class="fa fa-tag"></i> MongoDB</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/alex.d-blog/posts/18049353/" rel="next" title="Windows下PHP配置成功后phpinfo中找不到MySQL问题处理"><i class="fa fa-chevron-left"></i> Windows下PHP配置成功后phpinfo中找不到MySQL问题处理</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/alex.d-blog/posts/438c3d31/" rel="prev" title="CSS计数器">CSS计数器<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/alex.d-blog/images/avatar.jpg" alt="Alex.D"><p class="site-author-name" itemprop="name">Alex.D</p><p class="site-description motion-element" itemprop="description">Alex.D 个人博客，记录和分享工作经验、学习心得等</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/alex.d-blog/archives/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/alex.d-blog/categories/index.html"><span class="site-state-item-count">19</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/alex.d-blog/tags/index.html"><span class="site-state-item-count">46</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/alex.d-blog/rss.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://blog.csdn.net/u012995964" target="_blank" title="CSDN" rel="external nofollow"><i class="fa fa-fw fa-link"></i> CSDN</a></span><span class="links-of-author-item"><a href="https://www.jianshu.com/u/059f6f3e5791" target="_blank" title="简书" rel="external nofollow"><i class="fa fa-fw fa-link"></i> 简书</a></span><span class="links-of-author-item"><a href="https://github.com/anyer" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://gitee.com/alex_d" target="_blank" title="Gitee" rel="external nofollow"><i class="fa fa-fw fa-link"></i> Gitee</a></span></div><div class="cc-license motion-element" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank" rel="external nofollow"><img src="/alex.d-blog/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#MongoDB"><span class="nav-number">1.</span> <span class="nav-text">MongoDB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MongoDB-安装"><span class="nav-number">2.</span> <span class="nav-text">MongoDB 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#确定MongoDB版本"><span class="nav-number">2.1.</span> <span class="nav-text">确定MongoDB版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装MongoDB"><span class="nav-number">2.2.</span> <span class="nav-text">安装MongoDB</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MongoDB-无人值守安装"><span class="nav-number">3.</span> <span class="nav-text">MongoDB 无人值守安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#打开管理员命令提示"><span class="nav-number">3.1.</span> <span class="nav-text">打开管理员命令提示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows安装MongoDB"><span class="nav-number">3.2.</span> <span class="nav-text">Windows安装MongoDB</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MongoDB-运行"><span class="nav-number">4.</span> <span class="nav-text">MongoDB 运行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置MongoDB运行环境"><span class="nav-number">4.1.</span> <span class="nav-text">设置MongoDB运行环境</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运行MongoDB"><span class="nav-number">4.2.</span> <span class="nav-text">运行MongoDB</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#开始使用MongoDB"><span class="nav-number">4.3.</span> <span class="nav-text">开始使用MongoDB</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置MongoDB的Windows服务"><span class="nav-number">5.</span> <span class="nav-text">配置MongoDB的Windows服务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建目录"><span class="nav-number">5.1.</span> <span class="nav-text">创建目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建cfg配置文件"><span class="nav-number">5.2.</span> <span class="nav-text">创建cfg配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装MongoDB服务"><span class="nav-number">5.3.</span> <span class="nav-text">安装MongoDB服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#开启服务"><span class="nav-number">5.4.</span> <span class="nav-text">开启服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关闭和删除服务"><span class="nav-number">5.5.</span> <span class="nav-text">关闭和删除服务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考内容"><span class="nav-number">6.</span> <span class="nav-text">参考内容</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2018</span><span class="with-love" id="animate"><i class="fa fa-heartbeat"></i></span> <span class="author" itemprop="copyrightHolder">Alex.D</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">95k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">1:27</span></div><div class="powered-by">由 <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> 强力驱动 v3.8.0</div> <span class="post-meta-divider">|</span><div class="theme-info">主题 – <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Mist</a> v6.4.2</div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv" title="总访客量"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span><span class="site-pv" title="总访问量"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div><div><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b1f1cb368ef81fb" async="async"></script></div></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.ui.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/alex.d-blog/lib/three/three.min.js"></script><script type="text/javascript" src="/alex.d-blog/lib/three/three-waves.min.js"></script><script type="text/javascript" src="/alex.d-blog/js/src/utils.js?v=6.4.2"></script><script type="text/javascript" src="/alex.d-blog/js/src/motion.js?v=6.4.2"></script><script type="text/javascript" src="/alex.d-blog/js/src/scrollspy.js?v=6.4.2"></script><script type="text/javascript" src="/alex.d-blog/js/src/post-details.js?v=6.4.2"></script><script type="text/javascript" src="/alex.d-blog/js/src/bootstrap.js?v=6.4.2"></script><script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/alex.d-blog/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script>
    
    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text(counter.time + 1);
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text('Counter not initialized! See more at console err msg.');
              console.error('ATTENTION! LeanCloud counter has security bug, see here how to solve it: https://github.com/theme-next/hexo-leancloud-counter-security. \n But you also can use LeanCloud without security, by set \'security\' option to \'false\'.');
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "bMq5EYdO7g53KqEdWTWkVm7I-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "bMq5EYdO7g53KqEdWTWkVm7I-gzGzoHsz",
                'X-LC-Key': "BVg4Pry8PJsDq6i9g8Iydm5M",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });
  </script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/javascript" src="/alex.d-blog/js/src/js.cookie.js?v=6.4.2"></script><script type="text/javascript" src="/alex.d-blog/js/src/scroll-cookie.js?v=6.4.2"></script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code").find(".line").map(function(t,e){return $(e).text()}).toArray().join("\n"),n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.value=e,n.select(),n.focus();var o=document.execCommand("copy");document.body.removeChild(n),o?$(this).text("复制成功"):$(this).text("复制失败"),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})</script><script type="text/javascript" src="/alex.d-blog/js/src/love.js"></script></body></html>